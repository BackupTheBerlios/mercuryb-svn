<!-- $Id: coding_standards.htm,v 1.3 2007/06/23 11:43:59 jon Exp $-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MercuryBoard Help :: Coding Standards</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<style type='text/css'>
body    {font-size:11px; font-family:Verdana, Arial, Helvetica, sans-serif; color:#000000; cursor:default; margin:0px; padding:0px; background-color:#ffffff; background-image:url(bg.gif)}
td      {font-size:11px; font-family:Verdana, Arial, Helvetica, sans-serif; color:#000000; line-height:115%}

a       {color:#000000}
a:hover {color:#ff6600}

td.menu {color:#ffffff; font-weight:bold; font-size:14px; background-color:#ff9933}
a.menu  {color:#000000; text-decoration:none; font-weight:bold; font-size:11px}
a.menu:hover {color:#ffffff}

hr      {height:1px; border:0px; border-top:1px dashed #999999}
li      {line-height:130%}

.large  {font-size:18px; font-weight:bold; display:block; width1:95%; background-color:#eeeeee; border:1px dashed #999999; padding:5px}
.medium {font-size:14px; font-weight:bold}
.small  {font-size:10px}

.justify {text-align:justify}
</style>

<script type='text/javascript'>
<!--
function arrow(x, y)
{
	if (document.getElementById) {
		document.getElementById(x).style.visibility = y;
	} else {
		document.all[x].style.visibility = y;
	}
}
//-->
</script>
</head>
<body>
<br/>
<table border='0' cellpadding='0' cellspacing='0' style='border-collapse:collapse' align='center' width='75%'>
	<tr>
		<td colspan='2' style='border:1px solid #cccccc; border-bottom:3px solid #cccccc'>
			<table border='0' cellpadding='0' cellspacing='0' style='border-collapse:collapse' width='100%'>
				<tr>
					<td class='menu' style='padding:5px' width='100%'><a href='/'><img src='logo.gif' alt='MercuryBoard' border='0'></a></td>

					<td class='menu' align='right'><div id='about' style='visibility:hidden'>&rsaquo;</div></td>
					<td class='menu' style='padding-right:15px'><a href='about.html' class='menu' onmouseover='arrow("about", "visible")' onmouseout='arrow("about", "hidden")'>about</a></td>

					<td class='menu' align='right'><div id='install' style='visibility:hidden'>&rsaquo;</div></td>
					<td class='menu' style='padding-right:15px'><a href='install.html' class='menu' onmouseover='arrow("install", "visible")' onmouseout='arrow("install", "hidden")'>installation</a></td>

					<td class='menu' align='right'><div id='faq' style='visibility:hidden'>&rsaquo;</div></td>
					<td class='menu' style='padding-right:15px'><a href='faq.html' class='menu' onmouseover='arrow("faq", "visible")' onmouseout='arrow("faq", "hidden")'>FAQ</a></td>

					<td class='menu' align='right'><div id='community' style='visibility:hidden'>&rsaquo;</div></td>
					<td class='menu' style='padding-right:15px'><a href='http://forums.mercuryboard.com' target="_blank" class='menu' onmouseover='arrow("community", "visible")' onmouseout='arrow("community", "hidden")'>community</a></td>

					<td class='menu' align='right'><div id='support' style='visibility:hidden'>&rsaquo;</div></td>
					<td class='menu' style='padding-right:15px'><a href='http://forums.mercuryboard.com/index.php?a=forum&amp;f=6' target="_blank" class='menu' onmouseover='arrow("support", "visible")' onmouseout='arrow("support", "hidden")'>support</a></td>

					<td class='menu' align='right'><div id='credits' style='visibility:hidden'>&rsaquo;</div></td>
					<td class='menu' style='padding-right:15px'><a href='credits.html' class='menu' onmouseover='arrow("credits", "visible")' onmouseout='arrow("credits", "hidden")'>credits</a></td>

				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td valign='top' style='border:1px solid #cccccc; padding:10px' bgcolor='#ffffff'>

<span class='large'>MercuryBoard Coding Standards</span><br />
<br />
Please follow these guidelines when modifying or adding to the MercuryBoard
source. They are slightly modified PEAR (http://pear.php.net) coding standards.<br />

 <br /><hr /><br />

<span class='medium'>Indenting and Space</span><br/><br/>

 Use an indent of 1 tab. After the first non-tab character on a line, spaces
 should be used for whitespace. There should not be any space at the end of a
 line.<br/>
 
 <br /><hr /><br />

<span class='medium'>Control Structures</span><br/><br/>

 These include if, for, while, switch, etc. Here is an example if statement,
 since it is the most complicated of them:<br/><br/>

 if ((condition1) || (condition2)) {<br/>
 	action1;<br/>
 } elseif ((condition3) && (condition4)) {<br/>
 	action2;<br/>
 } else {<br/>
 	defaultaction;<br/>
 }<br/><br/>

 You are strongly encouraged to always use curly braces even in situations
 where they are technically optional. Having them increases readability and
 decreases the likelihood of logic errors being introduced when new lines are
 added.<br/><br/>

 Format switch statements in this way:<br/><br/>

 switch (condition)<br/>
 {<br/>
 case 1:<br/>
 	action1;<br/>
 	break;<br/>
<br/>
 case 2:<br/>
 	action2;<br/>
 	break;<br/>
<br/>
 default:<br/>
 	defaultaction;<br/>
 	break;<br/>
 }<br/>

<br /><hr /><br />

<span class='medium'>Function Calls</span><br/><br />

 Functions should be called with no spaces between the function name, the
 opening parenthesis, and the first parameter; spaces between commas and each
 parameter, and no space between the last parameter, the closing parenthesis,
 and the semicolon. Here's an example:<br/><br/>

 $var = foo($bar, $baz, $quux);<br/><br/>

 As displayed above, there should be one space on either side of an equals sign
 used to assign the return value of a function to a variable. In the case of a
 block of related assignments, more space may be inserted to promote
 readability:<br/><br/>

 $short         = foo($bar);<br/>
 $long_variable = foo($baz);<br/>

<br /><hr /><br />

<span class='medium'>Function Definitions</span><br/><br />

 Function declarations follow the "one true brace" convention:<br/><br/>

 function fooFunction($arg1, $arg2 = '')<br/>
 {<br/>
 	if (condition) {<br/>
 		statement;<br/>
 	}<br/>
 	return $val;<br/>
 }<br/>
<br/>
 Arguments with default values go at the end of the argument list. Always
 attempt to return a meaningful value from a function if one is appropriate.
 Here is a slightly longer example:<br/><br/>

 function connect(&$dsn, $persistent = false)<br/>
 {<br/>
 	if (is_array($dsn)) {<br/>
 		$dsninfo = &$dsn;<br/>
 	} else {<br/>
 		$dsninfo = DB::parseDSN($dsn);<br/>
 	}<br/><br/>

 	if (!$dsninfo || !$dsninfo['phptype']) {<br/>
 		return $this->raiseError();<br/>
 	}<br/>
<br/>
 	return true;<br/>
 }<br/>

<br /><hr /><br />

<span class='medium'>Comments</span><br/><br />

 Inline source documentation should work with phpDocumentor. More information
 about PHPDoc can be found here: http://www.phpdoc.org<br/><br/>

 Non-documentation comments are strongly encouraged. A general rule of thumb is
 that if you look at a section of code and think "Wow, I don't want to try and
 describe that", you need to comment it before you forget how it works.<br/><br/>

 C style comments (/* */) and standard C++ comments (//) are both fine. Use of
 Perl/shell style comments (#) is discouraged.<br/>

<br /><hr /><br />

<span class='medium'>Including Code</span><br/><br />

 Anywhere you are unconditionally including a class file, use require().
 Anywhere you are conditionally including a class file (for example, factory
 methods), use include().<br/><br/>

 Note: include() and require() are statements, not functions. You don't need
 parentheses around the filename to be included.<br/>

<br /><hr /><br />

<span class='medium'>PHP Code Tags</span><br/><br />

 Always use < ?php ? > to delimit PHP code, not the < ? ? > shorthand. This is
 required for PEAR compliance and is also the most portable way to include PHP
 code on differing operating systems and setups.<br/>
 
 <br /><hr /><br />

<span class='medium'>Strings and Arrays</span><br/><br />

 Always use '' for strings that don't contain variables. For strings that
 contain variables, either close the string and concatenate the variables, or
 use double quotes.<br/><br/>

 Array keys are strings and should be quoted as such. Put braces around the
 variable to prevent the parser from reading it as "Array['key']"<br/><br/>

 Valid ways to use strings and arrays:<br/>
 $foo = 'Single quotes (\') work fine when escaped';<br/>
 $foo = 'I am showing you ' . $bar['baz'] . ' an example';<br/>
 $foo = "I am showing you {$bar['baz']} an example";<br/><br/>

 Invalid ways to use strings and arrays:<br/>
 $foo = "There are no variables in this string.";<br/>
 $foo = "The key is $bar[baz]";<br/>

<br /><hr /><br />

<span class='medium'>Header Comment Blocks</span><br/><br />

 All source code files in the core MercuryBoard distribution should contain the
 following comment block as the header:<br/><br/>

 /**<br/>
  * MercuryBoard<br/>
  * Copyright (c) 2001-2003 The Mercury Development Team<br/>
  *<br/>
  * This program is free software; you can redistribute it and/or<br/>
  * modify it under the terms of the GNU General Public License<br/>
  * as published by the Free Software Foundation; either version 2<br/>
  * of the License, or (at your option) any later version.<br/>
  *<br/>
  * This program is distributed in the hope that it will be useful,<br/>
  * but WITHOUT ANY WARRANTY; without even the implied warranty of<br/>
  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the<br/>
  * GNU General Public License for more details.<br/>
  *<br/>
  * $Id<br/>
  **/<br/><br/>

 Note: Add another $ after $Id. It must be documented this way to prevent CVS
 from adding a version string into this documentation file.<br/>

<br /><hr /><br />

<span class='medium'>Example URLs</span><br/><br />

 Use "example.com" for all example URLs, per RFC 2606.<br/>

<br /><hr /><br />

<span class='medium'>Naming Conventions</span><br/><br />

 Generally speaking, the names of classes, functions and variables should
 always be descriptive enough to easily tell the reader of the code what they
 are used for.<br/>

<br /><hr /><br />

<span class='medium'>Classes</span><br/><br />

 Classes should be given descriptive names. Avoid using abbreviations where
 possible. Class names should be all-lowercase.<br/>

<br /><hr /><br />

<span class='medium'>Functions and Methods</span><br/><br />

 Functions and methods should be named descriptively with underscores
 separating words, all-lowercase. A verb-noun combination is recommended.<br/><br/>

 Some good function names:<br/><br/>

 connect()<br/>
 get_data()<br/>
 build_some_widget()<br/>

<br /><hr /><br />

<span class='medium'>Constants</span><br/><br />

 Constants should always be all-uppercase, with underscores to separate words.
 Constants go in ./func/constants.php. Their names should reflect the context
 of their use.<br/><br/>

 Constants are preferred over magic numbers.<br/>

<br /><hr /><br />

<span class='medium'>Global Variables</span><br/><br />

 Don't use global variables in any file with a class.<br/>

<br /><hr /><br />

<span class='medium'>True, false, null</span><br/><br />

 PHP's built-in values true, false and null must be written in lower-case.<br/>

<br /><hr /><br />

<span class='medium'>Compatibility</span><br/><br />

 All code must work with PHP 4.0.0. If this isn't feasible, check availability
 with function_exists(). Don't bother coding for PHP3.<br/><br/>

 All code must work with all possible configurations of PHP, including various
 values for register_globals, magic_quotes_gpc, etc.<br/><br/>

 All HTML must work as intended in all popular browsers, including Internet
 Explorer 5+, Netscape 4+, Mozilla, and recent versions of Opera.<br/><br/>

 Do not use JavaScript to validate forms or supply critical features. JavaScript
 should supplement the existing HTML, not replace PHP. All code must work with
 JavaScript enabled or disabled, in all popular browsers, as feasible.<br/><br/>

 Queries should be valid for all available databases. Use a switch() statement
 to determine the database type if you need features available only to certain
 databases.<br/><br/>

 Queries should work with recent and popular versions of databases. For MySQL,
 keep it compatible with all versions newer than 3.22.x.<br/><br/>

 Keep all code compatible with all web servers, primarily Apache and IIS.

</td>
<td style='background-color:#fcfcfc; border:1px solid #cccccc; line-height:135%; padding:7px' width='25%' valign='top'>
			<b>Need help with using the Admin CP?</b><br />
			Now you can use the Admin CP help documentation containing all the basics that you
			will need to know, to access this documentation go into your Admin CP and click 
			<a href="admin_help.html" target="_blank">Admin CP Help</a> on the grey bar top right.<br/>
			<br/>

			<b>Still having a problem?</b><br />
			If you have tried looking at the readme and the FAQ but you are still having problems,
			try going to the official MercuryBoard support forum by clicking the <a href="http://forums.mercuryboard.com/index.php?a=forum&amp;f=6" target="_blank">
			support</a> link at the top of this page.<br/>
			<br/>

			<b>Looking for a host?</b><br />
			In order to use MercuryBoard you need to have a host, this is basically a server which is connected
			to the World Wide Web so you can upload web pages to the internet. If you don't have a host then take a look <a href="http://forums.mercuryboard.com/index.php?a=topic&amp;t=3529" target="_blank">here</a>
			for a list of ones that are <i>free</i><br/><br/> 
			
			<b>Release Notes</b><br>
			In every release of MercuryBoard there is a compiled list of new features, bug fixes, template changes etc.
			These notes are made by the developers and can be found <a href="release.html" target="_blank">here</a><br/><br/> 

			<b>Open Source</b><br />
			&bull; Easy to customize<br />
			&bull; Released under<br />

			<span style='color:#fcfcfc'>&bull;</span> the GPL license<br />
			&bull; Free for commercial<br />
			<span style='color:#fcfcfc'>&bull;</span> or personal use<br /><br />

			<a href='http://www.mysql.com' target='_blank'><img src='mysql.png' alt='MySQL' border='0' style='border:1px solid #cccccc; margin-top:5px'></a><br/>
			<a href='http://www.php.net' target='_blank'><img src='php.gif' alt='PHP' border='0' style='border:1px solid #cccccc; margin-top:5px'></a><br /><br />

			<a href='http://www.mercuryboard.com/index.php?a=donate' target="_blank"><img src="https://www.paypal.com/en_US/i/btn/x-click-but21.gif" border="0" alt="Make payments with PayPal - it's fast, free and secure!"></a>
		</td>
	</tr>
</table>
</body>
</html>
